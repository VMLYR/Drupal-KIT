!function(e,t,o,n){"use strict";void 0===o.rocketshipUI&&(o.rocketshipUI={});var s=o.rocketshipUI;s.html=e("html"),s.body=e("body"),s.page=e("html, body"),s.touch=!1,s.screen="",s.scrollStop=!1,t.behaviors.rocketshipUIHelpers={attach:function(e,t){s.checkScreenSize(),o.rocketshipUI.optimizedResize().add((function(){s.checkScreenSize()})),"undefined"!=typeof Modernizr&&Modernizr.addTest("flexboxtweener",Modernizr.testAllProps("flexAlign","end",!0)),s.checkPassiveSupported()}},s.checkPassiveSupported=function(){s.passiveSupported=!1;try{var e={get passive(){s.passiveSupported=!0}};o.addEventListener("test",e,e),o.removeEventListener("test",e,e)}catch(e){s.passiveSupported=!1}},s.checkScreenSize=function(){var e=s.getBreakpoint();"bp-xs"==e&&(s.screen="xs"),"bp-sm"==e&&(s.screen="sm"),"bp-md"==e&&(s.screen="md"),"bp-lg"==e&&(s.screen="lg")},s.getBreakpoint=function(){var e=o.getComputedStyle(n.body,"::after").getPropertyValue("content");return(e=e.replace(/"/g,"")).replace(/'/g,"")},s.debounce=function(e,t,o){var n;return function(){var s=this,i=arguments,r=function(){n=null,o||e.apply(s,i)},a=o&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(s,i)}},s.optimizedResize=function(){var e=[],t=!1;function n(){t||(t=!0,o.requestAnimationFrame?o.requestAnimationFrame(s):setTimeout(s,250))}function s(){e.forEach((function(e){e()})),t=!1}return{add:function(t){e.length||o.addEventListener("resize",n),function(t){t&&e.push(t)}(t)}}},s.scrollTo=function(e){e.pos=e.el.offset().top,void 0===e.offset&&(e.offset=0),"bottom"===e.offset&&(e.pos=e.el.offset().top+e.el.outerHeight()),void 0===e.speed&&(e.speed=1e3),void 0===e.callback&&(e.callback=function(){}),s.page.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(e){s.scrollStop()})),s.page.stop().animate({scrollTop:e.pos+e.offset},e.speed,(function(){e.callback(),s.page.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")}))},s.scrollStop=function(){s.page.stop(!0,!1)},s.getScrollTop=function(){return Modernizr.touch?o.pageYOffset:e(o).scrollTop()},s.imgLoaded=function(t,o){var n=t.find("img"),s=n.length,i=0;if(!s)return o();n.each((function(){var t=e(this);t.on("load",(function(){(i+=1)==s&&o()})).each((function(){if(this.complete){var n=t.attr("src");e(this).load(n),(i+=1)==s&&o()}}))}))},s.round=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}}(jQuery,Drupal,window,document),function(e,t,o,n){"use strict";void 0===o.rocketshipUI&&(o.rocketshipUI={});var s=o.rocketshipUI;t.behaviors.rocketshipUIBase={attach:function(t,o){var n=e(".tabs__nav",t).first(),i=e(".view-mode--teaser, .view-mode--teaser-front, .view-mode--frontpage");n.length&&s.body.addClass("has-tabs"),s.scrollToAnchor(0);var r=e('a[href="#main-content"]'),a=e("#main-content");r.length&&a.length&&r.once("js-once-skip-link").each((function(){e(this).on("click",(function(e){a.trigger("focus"),e.preventDefault()}))})),i.length&&s.cardLink(i)}},s.cardLink=function(t,n,i){var r=!1;t.once("js-once-cardlink").each((function(){var t,a,l,c,u=e(this);void 0!==n&&n.length&&(t=u.find(n).last()),(void 0===t||t.length<1)&&(t=u.find(i).last()),(void 0===t||t.length<1)&&(t=s.getCardLink(u).link),null!=t&&t.length&&(a=t.attr("href"),l=t.attr("target"),u.css({cursor:"pointer"}),u.once("js-once-cardlink-mousedown").on("mousedown",(function(e){c=+new Date,(e.ctrlKey||e.metaKey)&&(r=!0)})),u.once("js-once-cardlink-mouseup").on("mouseup",(function(t){if(+new Date-c<250){var n=e(this);n.is(t.target)&&0!==n.has(t.target).length||e(t.target).is("a, a *")||(r?o.open(a,"_blank"):void 0!==l?o.open(a,l):o.location.href=a)}r=!1})))}))},s.getCardLink=function(e){var t;return(t=e.find(".field--name-node-link a").first()).length||1===(t=e.find(".field--buttons a")).length||(t=e.find('[class*="field--name-field-link-"] a').last()).length?{link:t}:{link:null}},s.scrollToAnchor=function(t){var i=!1,r=null;if("undefined"!=typeof drupalSettings&&null!==drupalSettings&&void 0!==drupalSettings.theme_settings&&null!==drupalSettings.theme_settings&&(void 0!==drupalSettings.theme_settings.scroll_to&&null!==drupalSettings.theme_settings.scroll_to&&drupalSettings.theme_settings.scroll_to&&(i=!0),void 0!==drupalSettings.theme_settings.scroll_to_exceptions&&null!==drupalSettings.theme_settings.scroll_to_exceptions&&drupalSettings.theme_settings.scroll_to_exceptions.length&&(r=drupalSettings.theme_settings.scroll_to_exceptions)),i){var a,l=e(".tabs"),c=0,u=0,h=e(".sticky-top");e("body").hasClass("toolbar-fixed")&&(u=e("#toolbar-bar").outerHeight(),l.length&&(c=l.outerHeight())),void 0===t&&(t=0);var f=function(){return"fixed"===h.css("position")?(t=h.outerHeight()+t+u+c,(a=h.outerHeight())>t&&(t=a)):t=15+t+u+c,t=-t},d=o.location.hash;if(e(d).length){var p=e('a[href$="'+d+'"]');if(p.length<1){t=f();var g={el:e(d),offset:t,speed:1e3};s.scrollTo(g)}p.once("js-once-scrollable-anchors-active").each((function(){var o=e(this);if(null===r||!o.is(r)){t=f();var n={el:e(d),offset:t,speed:1e3};s.scrollTo(n),o.addClass("js-active-anchor")}}))}var v=e('a[href*="#"]').not('a[href="#"]');v.once("js-once-scrollable-anchors").each((function(){var i=e(this);null!==r&&i.is(r)||i.removeClass("active").removeClass("active-trail"),i.once("js-once-scrollable-anchor-click").click((function(a){if(null===r||!i.is(r)){var l,c,u,h=this.href;if(void 0!==a.target.href?l=a.target.href.split("#")[1]:void 0!==a.currentTarget.href&&(l=a.currentTarget.href.split("#")[1]),u=e(c="#"+l),t=f(),u.length){i.addClass("js-active-anchor");var d={el:u,offset:t,speed:1e3,callback:function(){n.location.hash=c}};s.scrollTo(d),o.history&&o.history.pushState&&history.pushState("",n.title,c)}else{var p=e('a[name="'+l+'"]');if(p.length){i.addClass("js-active-anchor");var g={el:p,offset:t,speed:1e3,callback:function(){n.location.hash=c}};s.scrollTo(g)}}var v=o.location.href.split(/[?#]/)[0],m=h.split(/[?#]/)[0];if(v.replace(/\/$/,"")!==m.replace(/\/$/,""))return!0;a.preventDefault()}}))})),o.onpopstate=function(n){v.once("js-once-scrollable-anchors-popstate").each((function(){var n=e(this);if(null===r||!n.is(r)){var i=this.href,a=o.location.hash,l=i.substring(i.indexOf("#"));if(t=f(),e(l).length&&a==l&&(null===r||!n.is(r))){n.addClass("js-active-anchor");var c={el:e(l),offset:t,speed:1e3};s.scrollTo(c)}}}))}}}}(jQuery,Drupal,window,document);