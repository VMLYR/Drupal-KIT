!function(e,t,a,o){"use strict";void 0===a.rocketshipUI&&(a.rocketshipUI={});var i=a.rocketshipUI;t.behaviors.rocketshipUIImages={attach:function(e,t){i.checkLazyLoad(e),void 0!==drupalSettings.theme_settings&&null!==drupalSettings.theme_settings&&void 0!==drupalSettings.theme_settings.prevent_layout_shift&&null!==drupalSettings.theme_settings.prevent_layout_shift&&drupalSettings.theme_settings.prevent_layout_shift&&i.imgLayoutShift(e),void 0!==navigator.userAgent&&navigator.userAgent.indexOf("Edg")>-1&&i.reloadIcons(e)}},i.reloadIcons=function(t){o.querySelectorAll("svg.rs-icon",t).forEach((function(t){var a=t.querySelector("use").getAttribute("xlink:href"),o=e(a);e(t).append(o)}))},i.imagesLoadedCallback=function(e,t){null!=e&&(e.classList.contains("img-layout-shift")&&(e.classList.remove("img-layout-shift"),e.style.removeProperty("padding-bottom"),""===e.getAttribute("style")&&e.removeAttribute("style")),e.classList.contains("js-loaded")||e.classList.add("js-loaded"))},i.imgLayoutShift=function(e){"object"==typeof e&&"function"==typeof e.querySelectorAll&&e.querySelectorAll(".img-layout-shift").forEach((function(e){var t=e.querySelectorAll("img");i.imagesLoadedCallback(e,t)}))},i.imgAtomLoaded=function(t){if(void 0!==t&&t instanceof HTMLImageElement){var a=!1;t.onload=function(){a||(i.imagesLoadedCallback(t.parentNode,t),a=!0)},"boolean"==typeof t.complete&&t.complete&&(e(t).load(t.src),a||(i.imagesLoadedCallback(t.parentNode,t),a=!0))}},i.checkLazyLoad=function(e){if("loading"in HTMLImageElement.prototype)o.querySelectorAll('img[loading="lazy"], .drimage img',e).forEach((function(e){i.imgAtomLoaded(e),void 0===e.dataset.src||void 0!==e.src&&null!==e.src&&""!==e.src||(e.src=e.dataset.src)}));else if(void 0===drupalSettings.theme_settings.lazy_loading_fallback||!0!==drupalSettings.theme_settings.lazy_loading_fallback&&1!==drupalSettings.theme_settings.lazy_loading_fallback){o.querySelectorAll('img[loading="lazy"], .drimage img',e).forEach((function(e){i.imgAtomLoaded(e)}))}else i.lazyLoadFallback(e)},i.lazyLoadFallback=function(e){var t=!1;if("isIntersecting"in a.IntersectionObserverEntry.prototype&&(t=!0),t){var l=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(i.imgAtomLoaded(e.target),void 0!==e.target.dataset.src&&(e.target.src=e.target.dataset.src),l.unobserve(e.target))}))}),{rootMargin:"100px",threshold:1});o.querySelectorAll('img[loading="lazy"], .drimage img',e).forEach((function(e){l.observe(e)}))}var n=null;null!==(n=t?o.querySelectorAll(".modal-content .lazy-wrapper, .modal-content .drimage, .slick-cloned .lazy-wrapper, .slick-cloned .drimage",e):o.querySelectorAll('img[loading="lazy"], .drimage img',e))&&n.forEach((function(e){i.imgAtomLoaded(e.target),void 0===e.dataset.src||e.classList.contains("js-loaded")||(e.src=e.dataset.src)}))}}(jQuery,Drupal,window,document);